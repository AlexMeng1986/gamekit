# ---------------------------------------------------------
cmake_minimum_required(VERSION 2.6)

project(OGREKIT)
SET(OGREKIT 1.0)

if(COMMAND cmake_policy)
   cmake_policy(SET CMP0003 NEW)
endif(COMMAND cmake_policy)


# ---------------------------------------------------------
set(CMAKE_MODULE_PATH 
    ${CMAKE_SOURCE_DIR}/CMake
    ${CMAKE_SOURCE_DIR}/CMake/Utils
    ${CMAKE_SOURCE_DIR}/CMake/Packages
    ${CMAKE_SOURCE_DIR}/CMake/Templates
    )
include(CMakeDependentOption)
include(CheckCXXCompilerFlag)
include(ConfigOgreKit)


configure_ogrekit(${CMAKE_SOURCE_DIR} ${CMAKE_SOURCE_DIR}/OgreLite)

set(OGREKIT_BPARSE_TARGET bParse)
set(OGREKIT_BPARSE_INCLUDE ${CMAKE_SOURCE_DIR}/Core/bParse ${CMAKE_SOURCE_DIR}/Core/bParse/autogenerated)
set(OGREKIT_BULLET_LIBS BulletCollision BulletDynamics BulletSoftBody LinearMath)
set(OGREKIT_BULLET_INCLUDE ${CMAKE_SOURCE_DIR}/Dependencies/Source/bullet/src)


subdirs(Dependencies)
subdirs(OgreLite)
subdirs(Core)

set(BPARSE_EXTERN_DIR	${OGREKIT_BPARSE_INCLUDE} ${OGREKIT_BULLET_INCLUDE})
set(BPARSE_EXTERN_LIBS	${OGREKIT_BPARSE_TARGET}  ${OGREKIT_BULLET_LIBS})

# Tests for this setup
subdirs(Tests/OgreKit)
subdirs(Tests/Ascii/bAscii)
subdirs(Tests/Ascii)
subdirs(Tests/ScriptTest)
